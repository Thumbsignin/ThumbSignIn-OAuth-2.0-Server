<html lang="en">
<head>
	<!-- <sec:csrfMetaTags/> -->
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Demo</title>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width"/>
    <base href="/"/>
    <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css"/>
    <!--  <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>-->
    <!--  <script src='https://stage.thumbsignin.com/thumbsign_widget.js'></script>-->
    <script src="./thumbsign_widget.js"></script>
</head>
<body>
    <h3>ThumbSignIn OAuth 2.0 Identity Provider (IdP)</h3>
    
    <i>Login using your credentials to register for ThumbSignIn fingerprint login</i>
    <form action="/loginPage.html">
  		<div class="container">
    		<label for="uname"><b>Username</b></label>
    		<input type="text" placeholder="Enter Username" name="uname" required><br>

    		<label for="psw"><b>Password</b></label>
    		<input type="password" placeholder="Enter Password" name="psw" required><br>
        
    		<button type="submit">Login</button>
  		</div>
	</form>
	
	<br><i>Click below link if you have already registered with ThumbSignIn</i><br>
	<button class="ts-auth-button" id="LoginBtn" 
		style="border: 1px solid rgb(72, 210, 160); background-color: rgb(72, 210, 160);">Login via ThumbSignin
	</button>
    <script>
        (function(){document.write("<style>#tsBtn{color:#fff;border-radius:2px;background-color:#cccccc;width:230px;height:40px;margin-top: 20px;margin-left: 35;outline:0;border:1px solid #cccccc;cursor:pointer;font-size:16px;padding-left:30px;text-transform:none;background-position: 5px;background-image:url('https://thumbsignin.com/styles/img/logoIcon.png');background-repeat:no-repeat}</style>");})();
    </script>
    <div id="loginWidgetContainer"></div>
	
	<script type="text/javascript">	
	
	(function() {
	      thumbSignIn.addConfig('LOGIN_CONFIG', {
	              actionUrl: "/ts/secure/authenticate",  
	              statusUrl: "/ts/secure/authStatus/"
	      });
		  thumbSignIn.init({
	              id:'tsLogin',
	              config: 'LOGIN_CONFIG',
	              container: 'loginWidgetContainer'
	      }).then(function(){
	        //Add on click events
	        $('#LoginBtn').click(function(){
	        	tsLogin.open()
	        });
	        $('#close').click(function(){
	        	tsLogin.close()
	        });
		    // Post initialisation of the 'tsLogin' widget, u will be able to add event listeners
	        tsLogin.registerEvent('SUCCESS', function (response) {
	          window.location.hash = '';
	          window.location.pathname = response.redirectUrl;
	        });
	   })
	  })();
	</script>
    
</body>
</html>